<app-navbar></app-navbar>
<div [@fadeIn]>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">Banks</li>
    </ol>
  </nav>
  <div class="container">
    <div class="row">
      <div class="col-lg-4">
        <div class="card">
          <div class="card-header">
            <h3>Add bank</h3>
          </div>
          <div class="card-body">
            <form [formGroup]="bankForm" (ngSubmit)="addBank()">
              <div class="form-group">
                <label for="country">Country</label>
                <select id="country" class="form-control" formControlName="country">
                  <option value="{{ country.id }}" *ngFor="let country of countries">{{ country.name }}</option>
                </select>
              </div>
              <div class="form-group">
                <label for="pib">PIB</label>
                <input type="text" id="pib" class="form-control" formControlName="pib">
              </div>
              <div class="form-group">
                <label for="name">Name</label>
                <input type="text" id="name" class="form-control" formControlName="name">
              </div>
              <div class="form-group">
                <label for="address">Address</label>
                <input type="text" class="form-control" id="address" formControlName="address">
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" formControlName="email">
              </div>
              <div class="form-group">
                <label for="web">Web</label>
                <input type="text" class="form-control" id="web" formControlName="web">
              </div>
              <div class="form-group">
                <label for="telephone">Telephone</label>
                <input type="text" class="form-control" id="telephone" formControlName="telephone">
              </div>
              <div class="form-group">
                <label for="fax">Fax</label>
                <input type="text" class="form-control" id="fax" formControlName="fax">
              </div>
              <input type="checkbox" id="isBank">&nbsp;Bank
              <br><br>
              <div class="form-group">
                <label for="swift">Swift</label>
                <input type="text" class="form-control" id="swift" formControlName="swift">
              </div>
              <button type="submit" class="btn btn-info" [disabled]="!bankForm.valid">Add bank</button>
            </form>
          </div>
        </div>
      </div>
      <div class="col-lg-8">
        <div class="table-responsive">
          <table class="table table-bordered" *ngIf="banks && banks.length > 0; else banksNotFound">
            <thead class="thead-light">
              <tr>
                <th scope="col">#</th>
                <th scope="col">Country</th>
                <th scope="col">PIB</th>
                <th scope="col">Name</th>
                <th scope="col">Address</th>
                <th scope="col">Email date</th>
                <th scope="col">Web</th>
                <th scope="col">Telephone</th>
                <th scope="col">Fax</th>
                <th scope="col">Bank</th>
                <th scope="col">Swift</th>
                <th scope="col">Export to PDF</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let bank of banks">
                <td>{{ bank.id }}</td>
                <td>{{ bank.country?.name }}</td>
                <td>{{ bank.pib }}</td>
                <td>{{ bank.name }}</td>
                <td>{{ bank.address }}</td>
                <td>{{ bank.email }}</td>
                <td>{{ bank.web }}</td>
                <td>{{ bank.telephone }}</td>
                <td>{{ bank.fax }}</td>
                <td>{{ bank.bank }}</td>
                <td>{{ bank.swift }}</td>
                <td>
                  <button class="btn btn-link" (click)="exportToPDF(bank.id)">Export to PDF</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <ng-template #banksNotFound>
        <h1>There are no banks yet!</h1>
      </ng-template>
    </div>
  </div>
</div>
